var U = {
    moduleName: 'DefaultModule',
    version: '1.0.0',
    utilsVersion: '1.0.0',
    lan: {SK:'SK',CZ:'CZ',EN:'EN',DE:'DE'},
    SID: function(l){var chars='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ';var len=chars.length;var lenID=(l&&!isNaN(l))?l:5;var str='';for(var i=0;i<lenID;i++){str+=chars.charAt(Math.floor(Math.random()*len));}return str;},
    UID: function(){return Math.ceil(Date.now()/1000)+'-'+U.SID(3);},
    objectKeys: function(obj){var keys=[];var k;for(k in obj){if(Object.prototype.hasOwnProperty.call(obj,k)){keys.push(k);}}return keys;},
    forIn: function(obj,fn){var len=U.objectKeys(obj).length;var i=0;for(var k in obj){if(obj.hasOwnProperty(k)){var first=(i==0);var last=((i+1)==len);fn(k,obj[k],first,last);i++;}}},
    forEach: function(arr,fn){var len=arr.length;for(var i=0;i<len;i++){var first=(i==0);var last=((i+1)==len);fn(arr[i],i,arr,first,last);}},
    map: function(arr,fn){var acc=[];for(var i=0;i<arr.length;i++){acc.push(fn(arr[i],i,arr));}return acc;},
    filter: function(arr,fn){var acc=[];for(var i=0;i<arr.length;i++){if(fn.call(null,arr[i],i,arr)){acc.push(arr[i]);}}return acc;},
    find: function(arr,fn){for(var i=0;i<arr.length;i++){if(fn.call(null,arr[i],i,arr)){return arr[i];}}return null;},
    reduce: function(arr,fn,initialVal){var acc=(initialVal===undefined)?undefined:initialVal;for(var i=0;i<arr.length;i++){if(acc!==undefined)acc=fn.call(undefined,acc,arr[i],i,arr);else acc=arr[i];}return acc;},
    clone: function(obj,skip,skipFunctions){if(!obj){return obj;}var type=typeof(obj);if(type!=='object'||obj instanceof Date){return obj;}var length;var o;if(obj instanceof Array){length=obj.length;o=new Array(length);for(var i=0;i<length;i++){type=typeof(obj[i]);if(type!=='object'||obj[i]instanceof Date){if(skipFunctions&&type==='function'){continue;}o[i]=obj[i];continue;}o[i]=U.clone(obj[i],skip,skipFunctions);}return o;}o={};for(var m in obj){if(skip&&skip[m]){continue;}var val=obj[m];var type=typeof(val);if(type!=='object'||val instanceof Date){if(skipFunctions&&type==='function'){continue;}o[m]=val;continue;}o[m]=U.clone(obj[m],skip,skipFunctions);}return o;},
    contains: function(arrOrStr,v){if(!arrOrStr){throw new Error('invalidParameter');}if(typeof(arrOrStr)!=='string'&&!Array.isArray(arrOrStr)){throw new Error('invalidParameter');}return(arrOrStr.indexOf(v)!==-1);},
    extend: function(base,obj,rewrite){if(!base||!obj){return base;}if(typeof(base)!=='object'||typeof(obj)!=='object'){return base;}if(rewrite===undefined){rewrite=true;}var keys=Object.keys(obj);var i=keys.length;while(i--){var key=keys[i];if(rewrite||base[key]===undefined){base[key]=U.clone(obj[key]);}}return base;},
    toQueryString: function(obj,base){var queryString=[];Object.each(obj,function(v,k){if(base){k=base+'['+k+']';}var result=null;switch(typeof(v)){case'object':result=Object.toQueryString(v,k);break;case'array':var qs={};v.each(function(val,i){qs[i]=val;});result=Object.toQueryString(qs,k);break;default:result=k+'='+encodeURIComponent(v);}if(v!=null){queryString.push(result);}});return queryString.join('&');},
    argsToDebugString: function(args){var logs='';for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(arg){if(typeof arg=='object'||Array.isArray(arg)){if(Array.isArray(arg)){logs+='Array('+arg.length+'): \n';}else if(typeof arg=='object'){logs+='Object: \n';}logs+=JSON.stringify(arg,null,'\t');logs+='\n';}else{logs+=arg;}}else{logs+=' '+arg;}}return logs;},
    strFormat: function(str,args){return str.replace(/\{\d+\}/g,function(text){var value=args[+text.substring(1,text.length-1)];return value===null?'':value;});},
    strHyphenize: function(str){if(typeof(str)!=='string'){return null;}return str.replace(/\B([A-Z])/g,function(g){return('-'+g[0]);}).toLowerCase();},
    strHtml: function(tag,obj){if(!tag||typeof(tag)!='string'){return'';}var pairables=['area','base','br','col','command','embed','hr','img','input','keygen','link','meta','param','source','track','wbr'];var str='<'+tag;if(!obj){obj={};}if(obj.id){str+=' id="'+obj.id+'"';}if(obj.classes&&Array.isArray(obj.classes)){str+=classesAsStr(obj);}if(obj.style&&typeof(obj.data=='object')){str+=stylesAsStr(obj.style);}str+=attrsAsStr(obj);if(obj.data&&typeof(obj.data)=='object'){str+=dataAttrsAsStr(obj.data);}if(pairables.indexOf(tag)>=0){return str+'/>';}str+='>';str+=obj.html;str+='</'+tag+'>';return str;function classesAsStr(obj){var arr=obj.classes;var str='';for(var i=0;i<arr.length;i++){var v=arr[i];if(v){v='.'+v;}}str=obj.classes.join(' ');return(str.length>0)?(' class="'+str)+'"':'';}function attrsAsStr(obj){obj=(typeof(obj)=='object')?obj:{};var str='';for(var k in obj){if(['id','classes','style','data','html'].indexOf(k)>=0){continue;}var attr=k+'="'+obj[k]+'"';str+=(str.length>0)?(' '+attr):attr;}return(str.length>0)?(' '+str):'';}function dataAttrsAsStr(obj){var str='';for(var k in obj){if(obj.hasOwnProperty(k)){var attr='data-'+k+'="'+obj[k]+'"';str+=(str.length>0)?(' '+attr):attr;}}return(str.length>0)?(' '+str):'';}function stylesAsStr(obj){var str='';for(var k in obj){str+=U.strHyphenize(k)+':'+obj[k]+';';}return(str.length>0)?(' style="'+str+'"'):'';}},
    logDebug: function(){var log=U.argsToDebugString.apply(this,arguments);console.log(U.moduleName+': '+log);},
    log: function(){var args=[].slice.call(arguments);args.unshift(U.moduleName+': ');console.log.apply(null,args);},
    logWarn: function(){var args=[].slice.call(arguments);args.unshift(U.moduleName+': ');console.warn.apply(null,args);},
    error: function(problem,message){var Co=function(problem,message){if(!problem){throw new Error('missingProblem');}message=message||null;if(problem instanceof Error){this.id=problem.message;this.message=message;}else if(typeof(problem)=='string'){this.id=problem;this.message=message;}else{throw new Error('invalidProblem');}};Co.prototype={throw:function(){throw new Error(this.id);},toString:function(){return JSON.stringify({id:this.id,message:this.message},null,'    ');}};return new Co(problem,message);},
    ErrorBuilder: function(errors){var Co=function(errors){if(errors){if(!Array.isArray(errors)){throw new Error('invalidParameter');}for(var i=0;i<errors.length;i++){if(!errors[i]||!errors[i].id){throw new Error('invalidArrayItem');}}}this.errors=errors||[];};Co.prototype={push:function(err){this.errors.push(err);},remove:function(id){var arr=this.errors;var idx=-1;for(var i=0;i<arr.length;i++){if(arr[i].id==id){idx=i;}}if(idx>-1){arr.splice(idx,1);}},clear:function(){this.errors=[];},hasError:function(id){var arr=this.errors;if(id){for(var i=0;i<arr.length;i++){if(arr[i]&&arr[i].id==id){return true;}}return false;}return arr.length>0;},throwFirst:function(){if(this.errors.length<=0){throw new Error('emptyErrorBuilder');}this.errors[0].throw();},first:function(){return this.errors[0]||null;},last:function(){return this.errors[this.errors.length-1]||null;},toString:function(){return JSON.stringify(this,null,'    ');}};return new Co(errors);},
    Schema: function(fn){var Co=function(fn){this.rule={};this.__control=null;fn.apply(null,[attr.bind(this),attrError.bind(this),attrValidate.bind(this),func.bind(this),funcError.bind(this)]);};Co.prototype={validate:function(obj,lan){var eb=new U.ErrorBuilder();for(var k in this.rule){if(this.rule.hasOwnProperty(k)){var v=obj[k];var rule=this.rule[k];var mes=rule.message[lan]||rule.message['default']||('Invalid property "'+k+'".');if(rule.required){if(rule.type==='[object Number]'){if(!v&&v!==0){eb.push(U.error(k,mes));}}else{if(!v){eb.push(U.error(k,mes));}}}if(v&&Object.prototype.toString.call(v)!==rule.type){eb.push(U.error(k,mes));}if(v&&rule.validate&&!rule.validate(v)){eb.push(U.error(k,mes));}}}return eb;},normalize:function(obj){var norm={};for(var k in this.rule){if(this.rule.hasOwnProperty(k)){var rule=this.rule[k];var val=obj[k];var typ=Object.prototype.toString.call(val);if(!val||typ!==rule.type){if(rule.type==='[object Array]'){norm[k]=[];}else if(rule.type=='[object Function]'){norm[k]=function(){};}else{norm[k]=null;}}else{norm[k]=val;}}}return norm;}};function attr(name,type,required){if(!name||typeof(name)!=='string'){throw new Error('invalidParameter');}type=strType(type);if(!type||typeof(required)!=='boolean'){throw new Error('invalidParameter');}this.__control=name;this.rule[this.__control]={type:type,required:required,message:{default:'Invalid attribute "'+name+'".'}};}function func(name){if(!name||typeof(name)!=='string'){throw new Error('invalidParameter');}this.__control=name;this.rule[this.__control]={type:'[object Function]',required:true,message:{default:'Invalid function "'+name+'".'}};}var attrError=funcError=function(a,b){if(!a||typeof(a)!=='string'){throw new Error('invalidParameter');}if(b&&typeof(b)!=='string'){throw new Error('invalidParameter');}var lan=(a&&b)?a:'default';var mes=(a&&b)?b:a;if(!this.rule[this.__control]){throw new Error('invalidOrder');}if(!this.rule[this.__control].message){this.rule[this.__control].message={};}this.rule[this.__control].message[lan]=mes;};function attrValidate(fn){if(!fn||typeof(fn)!=='function'){throw new Error('invalidParameter');}if(!this.rule[this.__control]){throw new Error('invalidOrder');}this.rule[this.__control].validate=fn;}function strType(type){if(type===Number){return'[object Number]';}else if(type===String){return'[object String]';}else if(type===Array){return'[object Array]';}else if(type===Date){return'[object Date]';}else if(type===Object){return'[object Object]';}else{null;}}return new Co(fn);},
    keyCodeToKey: function(e){var map={16:'shift',17:'ctrl',18:'alt',65:'a',66:'b',67:'c',68:'d',69:'e',70:'f',71:'g',72:'h',73:'i',74:'j',75:'k',76:'l',77:'m',78:'n',79:'o',80:'p',81:'q',82:'r',83:'s',84:'t',85:'u',86:'v',87:'w',88:'x',89:'y',90:'z'};return map[e.keyCode]||null;},
    SerialFlow: function(result){var Co=function(result){var self=this;self.fnArray=[];self.context={result:(typeof(context)=='object')?result:{}};};Co.prototype.push=function(fn){var args=arguments&&arguments.length&&Array.prototype.slice.call(arguments,1)||[];var self=this;var argArray=args;self.fnArray.push({fn:fn,argArray:argArray});};Co.prototype.run=function(end){var self=this;(function loop(i,argArray){var obj=self.fnArray[i];if(!obj){return end&&end(null,self.context.result);}if(i===0||(Array.isArray(obj.argArray)&&obj.argArray.length>0)){obj.argArray.push(next);obj.fn.apply(self.context,obj.argArray);}else{argArray.push(next);obj.fn.apply(self.context,argArray);}function next(){var args=arguments&&arguments.length&&Array.prototype.slice.call(arguments)||[];var err=args.shift();if(err){return end&&end(err,self.context.result);}if(typeof(setImmediate)=='function'){setImmediate(function(){return loop(++i,args);});}else{return loop(++i,args);}}})(0);};return new Co(result);},
    ajax: function(obj){var xhr=new XMLHttpRequest();var res=null;var json='application/json';xhr.onreadystatechange=function(){if(xhr.readyState===4){if(xhr.status===200){if(obj.header['Accept'===json]){try{res=JSON.parse(xhr.responseText);}catch(err){console.warn('Ajax: Unable to parse success server response to JSON.');obj.error(null,xhr);}}else{res=xhr.responseText;}obj.success(res,xhr);}else{if(obj.header['Accept']===json){try{res=JSON.parse(xhr.responseText);}catch(err){console.warn('Ajax: Unable to parse error server response to JSON.');obj.error(null,xhr);}}else{res=xhr.responseText;}obj.error(res,xhr);}}};xhr.upload.onprogress=function(state){if(state.lengthComputable){var percentage=(state.loaded/state.total)*100;obj.progress(percentage.toFixed(2));}};xhr.onerror=function(){console.warn('Ajax: Unexpected ajax error.');};xhr.open(obj.method,url,true);for(var k in obj.header){var v=obj[k];xhr.setRequestHeader(k,v);}xhr.send(obj.data);},
    __domInternal: {handler:{}},
    domReady: function(fn){if(document.attachEvent?(document.readyState==="complete"):(document.readyState!=="loading")){fn();}else{document.addEventListener('DOMContentLoaded',fn);}},
    isDomEl: function(el){return(el instanceof Element||el instanceof HTMLDocument);},
    domFind: function(sel,el){var list=null;if(!sel||typeof(sel)!=='string'){throw new Error('invalidParameter');}if(el&&U.isDomEl(el)){console.log('--> OK 11');list=el.querySelectorAll(sel);}else{console.log('--> OK 12');list=document.querySelectorAll(sel);}console.log('--> OK list: ',list);if(list){if(selectingOne(sel)){return list[0]||null;}else{var arr=[];var len=list.length;arr.length=len;for(var i=0;i<len;i++){if(list[i]){arr[i]=list[i];}}return arr;}}else{if(selectingOne(sel)){return null;}return[];}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domHasClass: function(el,name){if(!el||!U.isDomEl(el)){throw new Error('invalidParameter');}if(el.classList){return el.classList.contains(name);}else{var exp=new RegExp('(^| )'+name+'( |$)','gi');return exp.test(el.className);}},
    domAddClass: function(sel,v){if(!sel){throw new Error('invalidParameter');}if(!v||typeof(v)!=='string'){return new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<len;i++){var el=els[i];if(!el){continue;}var clas=v.split(/\s+/);var lenlen=clas.length;for(var j=0;j<lenlen;j++){var cla=clas[j];addClass(el,cla);}}}function addClass(el,v){if(el.classList){el.classList.add(v);}else{el.className+=' '+v;}}},
    domRemoveClass: function(sel,v){if(!sel||!v||typeof(v)!=='string'){return new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<len;i++){var el=els[i];if(!el){continue;}var clas=v.split(/\s+/);var lenlen=clas.length;for(var j=0;j<lenlen;j++){var cla=clas[j];removeClass(el,cla);}}}function removeClass(el,v){if(el.classList){el.classList.remove(v);}else{el.className=el.className.replace(new RegExp('(^|\\b)'+v.split(' ').join('|')+'(\\b|$)','gi'),' ');}}},
    domToggleClass: function(sel,v){if(!sel){throw new Error('invalidParameter');}if(!v||typeof(v)!=='string'){return new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<len;i++){var el=els[i];if(!el){continue;}var clas=v.split(/\s+/);var lenlen=clas.length;for(var j=0;j<lenlen;j++){var cla=clas[j];toggleClass(el,cla);}}}function toggleClass(el,v){el.classList.toggle(v);}},
    domVal: function(sel,v){if(!sel){throw new Error('invalidParameter');}if(v&&typeof(v)!=='string'&&isNaN(v)){return new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(!el){continue;}if(v===undefined){arr.push(getVal(el));}else{setVal(el,v);}}}return selectingOne(sel)?arr[0]:arr;function getVal(el){return el.value||null;}function setVal(el,v){if(v===undefined){return el.value;}else{el.value=v;}}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domAttr: function(sel,k,v){if(!sel){throw new Error('invalidParameter');}if(!k||typeof(k)!=='string'){throw new Error('invalidParameter');}if(v&&typeof(v)!=='string'&&isNaN(v)&&typeof(v)!==null){throw new Error('invalidParameter')}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(!el){continue;}if(v===undefined){arr.push(getAttr(el,k));}else{setAttr(el,k,v);}}}return selectingOne(sel)?arr[0]:arr;function getAttr(el,k){var v=el.getAttribute(k)||null;if(v){return v;}else{return el.hasAttribute(k);}}function setAttr(el,k,v){el.setAttribute(k,''+v);}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domData: function(sel,k,v){if(!sel){throw new Error('invalidParameter');}if(!k||typeof(k)!=='string'){throw new Error('invalidParameter');}try{v=normalizeVal(v);}catch(err){throw new Error('unableToParse');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(!el){continue;}if(v===undefined){arr.push(getData(el,k));}else{setData(el,k,v);}}}return selectingOne(sel)?arr[0]:arr;function getData(el,k){if(el.__elementData[k]){return el.__elementData[k];}return el.dataset[k]||null;}function setData(el,k,v){if(typeof(v)==='string'){el.dataset[k]=v;}else{if(!el.__elementData){el.__elementData={};}el.__elementData[k]=v;}}function normalizeVal(v){if(v===undefined){return undefined;}else if(typeof(v)==='string'){return v;}else if(typeof(v)==='object'){if(!v){return null;}return v;}else if(v&&typeof(v.toString)=='function'){return v.toString();}else{throw new Error('invalidParameter');}}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domHtml: function(sel,v){if(!sel){throw new Error('invalidParameter');}if(v&&typeof(v)!=='string'){return new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(!el){continue;}if(v===undefined){arr.push(getHtml(el));}else{setHtml(el,v);}}}return selectingOne(sel)?arr[0]:arr;function getHtml(el){return el.innerHTML||null;}function setHtml(el,v){el.innerHTML=v;}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domText: function(sel,v){if(!sel){throw new Error('invalidParameter');}if(v&&typeof(v)!=='string'){return new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(!el){continue;}if(v===undefined){arr.push(getText(el));}else{setText(el,v);}}}return selectingOne(sel)?arr[0]:arr;function getText(el){return el.textContent||null;}function setText(el,v){el.textContent=v;}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domParent: function(sel){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){arr.push(getParent(el));}}}return selectingOne(sel)?arr[0]:arr;function getParent(el){return el.parentNode||null;}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domChildren: function(sel){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){arr.push(getChildren(el));}}}return selectingOne(sel)?arr[0]:arr;function getChildren(el){var els=el.children||[];var arr=[];for(var i=0;i<els.length;i++){arr[i]=els[i];}return arr;}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domSiblings: function(sel){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){arr.push(getSiblings(el));}}}return selectingOne(sel)?arr[0]:arr;function getSiblings(el){var els=(el.parentNode&&el.parentNode.children)?el.parentNode.children:[];var arr=[];for(var i=0;i<els.length;i++){var ch=els[i];if(ch!==el){arr.push(ch);}}return arr;}},
    domPrev: function(sel){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){arr.push(getPrev(el));}}}return selectingOne(sel)?arr[0]:arr;function getPrev(el){return el.previousElementSibling||null;}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domStyle: function(sel,k,v){if(!sel){throw new Error('invalidParameter');}if(!k||typeof(k)!=='string'){throw new Error('invalidParameter');}if(v&&(typeof(v)!=='string'&&isNaN(v))){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}var arr=[];if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(!el){continue;}if(v===undefined){arr.push(getStyle(el,k));}else{setStyle(el,k,v);}}}return selectingOne(sel)?arr[0]:arr;function getStyle(el,k){return el.style[k]||null;}function setStyle(el,k,v){el.style[k]=v;}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domFadeIn: function(sel,t){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){fadeIn(el,t);}}}function fadeIn(el,t){el.style.transition='opacity '+(t&&!isNaN(t)&&t>0?t:250)+'ms';el.style.opacity='1';}function selectingOne(sel){if(U.isDomEl(sel)){return true;}else if(typeof(sel)==='string'){var parts=sel.split(/\s+/);return(parts&&parts.length==1&&parts[0][0]=='#');}return false;}},
    domFadeOut: function(sel,t){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){fadeOut(el,t);}}}function fadeOut(el,t){el.style.transition='opacity '+(t&&!isNaN(t)&&t>0?t:250)+'ms';el.style.opacity='0';}},
    domFadeTo: function(sel,o,t){if(!sel){throw new Error('invalidParameter');}if(!o||isNaN(o)||o>100||o<0){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<els.length;i++){var el=els[i];if(el){fadeTo(el,o,t);}}}function fadeTo(el,o,t){el.style.transition='opacity '+(t&&!isNaN(t)&&t>0?t:250)+'ms';el.style.opacity=o.toString();}},
    domFadeToggle: function(sel,t){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<els.length;i++){var el=els[i];if(el){fadeToggle(el);}}}function fadeToggle(el){el.style.transition='opacity '+(t&&!isNaN(t)&&t>0?t:250)+'ms';var s=el.ownerDocument.defaultView.getComputedStyle(el,null);var o=(!s)?null:s.opacity;if(o===null){return;}if(o==='1'){el.style.opacity='0';}else{el.style.opacity='1';}}},
    domOn: function(sel,k,fn){if(!sel){throw new Error('invalidParameter');}if(!k||typeof(k)!=='string'||typeof(fn)!=='function'){return new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<len;i++){var el=els[i];if(el){addListener(el,k,fn);}}}function addListener(el,k,fn){if(!U.__domInternal.handler[el]){U.__domInternal.handler[el]={};}if(!U.__domInternal.handler[el][k]){U.__domInternal.handler[el][k]=[];}U.__domInternal.handler[el][k].push(fn);el.addEventListener(k,fn,false);}},
    domOff: function(sel,k){if(!sel){throw new Error('invalidParameter');}if(k&&typeof(k)!=='string'){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<len;i++){var el=els[i];if(el){removeListener(el,k||null);}}}function removeListener(el,k){if(!U.__domInternal.handler[el]){return;}if(k&&U.__domInternal.handler[el][k]){var fns=U.__domInternal.handler[el][k];var len=fns.length;for(var i=0;i<len;i++){var fn=fns[i];el.removeEventListener(k,fn,false);}}else{var sub=el.cloneNode(true);el.parentNode.replaceChild(sub,el);}}},
    domTriggerNativeEvent: function(sel,k){if(!sel){throw new Error('invalidParameter');}if(!k||typeof(k)!=='string'){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<len;i++){var el=els[i];if(el){triggerEvent(el,k);}}}function triggerEvent(el,k){var e=document.createEvent('HTMLEvents');e.initEvent(k,true,false);el.dispatchEvent(e);}},
    domTriggerEvent: function(sel,k,v){if(!sel){throw new Error('invalidParameter');}if(!k||typeof(k)!=='string'){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){var len=els.length;for(var i=0;i<len;i++){var el=els[i];if(el){triggerEvent(el,k,v)}}}function triggerEvent(el,k,v){var e=null;if(window.CustomEvent){e=new CustomEvent(k,{detail:v});}else{e=document.createEvent('CustomEvent');e.initCustomEvent(k,true,true,v);}el.dispatchEvent(e);}},
    domAppend: function(sel,v){if(!sel){throw new Error('invalidParameter');}if(typeof(v)!=='string'){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){console.log('--> OK 1');els=sel;}else if(U.isDomEl(sel)){console.log('--> OK 2');els=[sel];}else{console.log('--> OK 3 sel: ',sel);els=U.domFind(sel);els=Array.isArray(els)?els:[els];}console.log('--> OK els: ',els);if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];console.log('--> OK el: ',el);if(el){domAppend(el,v);}}}function domAppend(el,v){console.log('--> OK append el: ',el);console.log('--> OK append v: ',v);el.insertAdjacentHTML('beforeend',v);}},
    domPrepend: function(sel,v){if(!sel){throw new Error('invalidParameter');}if(typeof(v)!=='string'){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){domPrepend(el,v);}}}function domPrepend(el,v){el.insertAdjacentHTML('afterbegin',v);}},
    domRemove: function(sel){if(!sel){throw new Error('invalidParameter');}var els=null;if(Array.isArray(sel)){els=sel;}else if(U.isDomEl(sel)){els=[sel];}else{els=U.domFind(sel);els=Array.isArray(els)?els:[els];}if(Array.isArray(els)){for(var i=0;i<els.length;i++){var el=els[i];if(el){domRemove(el);}}}function domRemove(el){el.parentNode.removeChild(el);}},
};
